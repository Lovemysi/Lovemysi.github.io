---
title: 线程和进程
---

## 参考网站

[参考网址](https://www.nowcoder.com/tutorial/10005/e32c271456fd44d5ba614df9ab869ebe)

## 大纲

- 线程的两种创建方式

  1. 函数式线程
     - 参考:\_thread.start_new_thread( print_time, ("Thread-1",2))
  2. 类封装式线程
     - 参考:classmyThread(threading.Thread):

- 线程间的通信
  - 互斥锁
  - 使用队列在线程中通信
- 进程
  - mutiprocessing 模块创建进程
  - 使用 process 创建子进程
  - 使用进程池
- 进程通信
  - 队列
  - 多进程队列的使用
  - 使用队列在进程中通信

### 同步、异步，并发、并行

**并发**

- 一个人操作多个任务,在任务之间来回切换

**并行**

- 在同一时刻,每个人操作不同的任务.

**同步**

- 当我们同步的执行某个任务时，我们需要等到这个任务执行完给我们反馈结果，我们才能去执行其他的任务。

**异步**

- 但是异步的执行某个任务时，我们可以不用等这个任务结束就去执行另一项任务。通过异步执行的任务执行结束后我们可以通过回调函数获得结果。

### 进程和线程都需要考虑锁和同步问题

- 进程间通信和线程间通信的同步和锁机制有所不同。
- 在进程间通信中，常用的同步机制包括互斥锁、信号量和条件变量，需要使用特定的 IPC 机制来实现。
- 而在线程间通信中，可以使用线程锁、条件变量等同步机制来实现线程间的同步和互斥。
- 总结:无论是进程还是线程，都需要考虑同步和锁的问题，以确保数据的正确性和一致性。具体的同步和锁机制会根据进程间通信和线程间通信的不同而有所区别。

### 守护线程

- 守护线程（daemon thread）是在后台运行的线程，其作用是为其他线程提供服务和支持。守护线程的生命周期与主线程或其他非守护线程的生命周期无关，当所有非守护线程结束时，守护线程会自动退出。

守护线程通常用于执行一些辅助性的任务，例如垃圾回收、日志记录、定时任务等。它们不会阻止程序的退出，因此在主线程或其他非守护线程结束时，守护线程会被强制终止。

- 需要注意的是，守护线程不能访问一些需要确保线程安全的资源，因为它们可能在任何时候被终止。此外，守护线程也不能进行一些需要确保完整性和一致性的操作，例如文件写入。

### 多线程和多进程的选择

- cup 密集选择多进程,大量计算.
- i/o 密集选择多线程,网络请求和文件读取.
